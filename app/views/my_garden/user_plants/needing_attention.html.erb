<div class="header" style="background-image: url(https://res.cloudinary.com/lucas-vittaz/image/upload/v1654261599/development/Header_d9y58o.png)">
  <a href="/"><i class="fas fa-angle-left fa-4x"></i></a>
  <h1>My alerts</h1>
</div>
<div class="container alert-container">
<p class="text-center"> Retrieve your alerts in real time </p>

<%# INDEX %>
<div class="plant-cards">
  <% @plants_attention.each do |user_plant|%>
    <%= link_to  my_garden_user_plant_path(user_plant), class: "link-dark text-decoration-none plant-card-single" do %>
      <%= cl_image_tag user_plant.plant.photo.key, width: 150, height: 150, crop: :fill, :style => "border-radius: 10px"%>
      <div class="plant-infos">
          <h2><strong><%= user_plant.plant.name %></strong></h2>
            <p><strong>Room</strong> <%= user_plant.room %>
          <br>
          <p>Actual water need</p>
          <div class="gaugeArea"></div>

      </div>
    <% end %>
  <% end %>
</div>

<script src="https://unpkg.com/gauge-chart@latest/dist/bundle.js"></script>
<script>
              let chartWidth  = 150
              let needleValue = 65
              let options = {
                hasNeedle: true,
                outerNeedle: false,
                needleColor: "#2ecc71",
                needleStartValue: 50,
                arcColors: ["#c0392b","#2ecc71","#c0392b"],
                arcDelimiters: [35, 80],
                // arcLabels: ["Under","Over"],
                arcPadding : 4,
                arcPaddingColor : ["#d8eecc"],
                arcOverEffect : false,
                rangeLabel: ["0","100"],
	              centralLabel: "Water",
              	rangeLabelFontSize: 6,
}

                const element = document.querySelector(".gaugeArea")
                GaugeChart.gaugeChart(element, chartWidth, options).updateNeedle(needleValue)

</script>
